## 主存容量的扩展
### 位扩展法
- 对 __存储字长__ 进行扩展,当CPU的系统数据线数多于存储芯片位数时,必须进行位扩展,使其与CPU位数相等

### 字扩展法
- 字扩展是指对存储字的数量进行扩展,而存储字的位数满足要求,系统数据线位数和等于存储字长

### 字位同时扩展
- 字扩展和位扩展同时进行
![字位同时扩展示意图](https://img.picui.cn/free/2024/09/19/66eb9ec381d56.jpg)
> 注意到这张图中,进行位扩展的同时进行了字扩展,采用了2/4译码器进行片选,CPU的A0-A13(2^14 = 16K)用于选择一个片内的存储单元,高位的A14-A15(2^2 = 4)用于片选
## 存储芯片的地址分配和片选
- 线选法
- 译码片选法
> 例1：
>
> 地址总线A0(高位)~A15(低位),用4K x 4bit的存储芯片组成16K x 8bit的存储器,则产生片选信号的译码器的输入地址线应该是什么
> 
> 首先应该进行位扩展,将4K x 4bit 扩展为4K x 8bit,而后进行字扩展,扩展出4组,所以需要使用2/4译码器进行片选,而,每组种有4K个存储单元,需要12条地址线(A4~A15),而后的A2和A3作为片选线,更高位的A0,A1空缺留作以后使用
>
>例2:
>
> 假定用若干2K x 4bit的芯片组成一个8K x 8bit的存储其,则0B1FH所在芯片的最小地址是多少
>
> 构成这样的存储器,需要进行字位扩展,每个存储芯片有2^11个存储单元,需要11条地址线,字扩展成4组,需要2/4译码器作为片选,所以0B1FH的的低11位为地址,而后2为片选,翻译成2进制为 __0000 1011 0001 1111__ 于是片选为01
所以最小地址为 __0000 1000 0000 0000__ 为0800H
>
> 例3:
>
> 某计算计算机的CPU有30根地址线,按字节编址,CPU和主存相连,要求主存芯片占满所有可能的空间,并且RAM区和ROM区的空间分配大小比是3:1,若RAM在低位地址区,ROM在高地址区,则ROM的地址范围是什么
>
> 30根地址线,可以得到地址号从0000 0000~3FFF FFFF,而ROM占高位地址,所以ROM的最高位为3FFF FFFF,而由于是3：1,于是ROM占了2^30 / 4个存储单元,起始位置为:3FFF FFFF - 0FFF FFFF = 3000 0000,所以ROM的地址范围为3000 0000 ~ 3FFF FFFF

