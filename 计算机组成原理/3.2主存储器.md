# SRAM和DRAM芯片
- 在3.1存储器的分类中提过存储器按照存储介质分类可以分为 __半导体存储器(MOS型,双极型)__,按照数据易失性可以分为 __易失性存储器__ 和 __非易性存储器__,其中RAM都为易失性存储器,特点是(在断电后数据会消失),ROM(只读型存储器)
## 存储元,存储单位和存储器
- 将存储 __一个__ 二进制位的物理器件称为 __存储元__
多个存储元构成存储单元,若干存储单元的集合构成 __存储体__
## SRAM的工作原理
- 静态随机存储器(SRAM)的存储元是用 __双稳态触发器(六晶体管MOS)__,其 __数据读出后不会被破坏__
- SRAM的特点是存取速度块,集成度低,功耗大,价格昂贵,一般 __用作Cache__
![SRAM存储元示意图](https://img.picui.cn/free/2024/09/18/66ea63ca8dd86.png)
## DRAM的工作原理
- DRAM是利用存储元电路上栅极管的电荷来存储信息的,通常只使用一个晶体管,所以比SRAM的造价低,集成度高,速度慢,同时 __数据读出后会遭到破坏__ ,需要一段时间进行恢复,通常 __用作主存__
![DRAM存储元示意图](https://img.picui.cn/free/2024/09/18/66ea648b6b85e.png)
> 注意:如果CPU要访问的数据在Cache中,那么这时候的存取周期仍然是包括很小一部分的恢复时间的,不能说这时候的存取周期只有存储时间
### 需要刷新的存储芯片DRAM
- DRAM电容上的电荷会流失,读操作也会使得电荷减少,于是将其称为动态存储器
> 注意:__DRAM的刷新是以行位单位的__
- 集中刷新:在一个刷新周期内,利用一段固定的时间,依次对存储器的所有行进行逐一再生,存在 __死时间(死区)__,死区内CPU无法对存储器进行访问 __(无法对存储器的任何一个存储单元进行访问)__
![集中刷新示意图](https://img.picui.cn/free/2024/09/18/66ea811b62e96.png)
- 分散刷新:将存储器的工作周期分为两部分,第一部分用于读取,第二部分进行刷新,由于读取每个存储单元后都 __按行__ 进行刷新,优点是没有死区,缺点是延长了每个存储单元的存取周期
![分散刷新示意图](https://img.picui.cn/free/2024/09/18/66ea8aec8695f.png)
- 异步刷新,DRAM按行刷新,因此可以在CPU读取完某一行后对DRAM该行进行刷新,使得每行只刷新一次,具体做法是 __将刷新周期除以行数,得到相邻两行的刷新时间间隔t,每隔t次发送一次刷新请求__
![异步刷新示意图](https://img.picui.cn/free/2024/09/18/66ea8c5ee1ccf.png)
__DRAM__ 的刷新和再生是不同的,刷新以行为单位,而再生是仅仅只需要恢复被读出的存储单元,这些存储单元可能在不同行

### SRAM和DRAM之间的比较
![SRAM compare with DRAM](https://img.picui.cn/free/2024/09/18/66ea947daa678.jpg)

## 只读存储器
### RAM和ROM的区别
ROM和ROM都是 __支持随机访问的存储器__ 其中SRAM和DRM为 __半导体易失性存储器__ 而ROM中一旦有了信息,就很难更改
### ROM的类型
- MROM(masked-read-only-memory) 掩模式只读存储器,特点在制造时用户提出要求后写入(对于工厂来说),并且写入以后 __任何人__ 都不能改变其内容 __(工厂预编程)__
- PROM(programmable-read-only-memory) 一次可编程只读存储器,特点是可以实现 __一次性__ 编程的只读存储器(对于用户来说),一旦写入,数据无法修改 __(用户可编程)__
- (Erasable-programmable-read-only-memort)可擦除可编程只读存储器
EPROM允许用户向其写入数据并且进行多次改写,但是这并不能取代RAM,因为其 __写入时间过长并且有写入限制__
- E²PROM(Electrically Erasable Programmable Read-Only Memory)是“电可擦除可编程只读存储器”的缩写。与 EPROM 不同,E²PROM 可以通过电信号擦除和重新编程,因此更加灵活，常用于需要频繁更新数据的应用中。
- flash存储器,在EPROM的基础上发展而来的,可以进行电擦除,擦除速度快
## 主存储器的基本组成
- 存储器由一个个存储单元构成,存储单元由存储元组成,一个存储单元对应一个地址编号
如图:
![主存储器的基本组成](https://img.picui.cn/free/2024/09/18/66ead483d8d53.jpg)
- 下面介绍一下CPU访问 __主存__ 的简要过程:
> 如果进行读操作,CPU将要读取内容的地址送入MAR,而后通过地址线将MAR中的二进制代码送入地址译码器,地址译码器进行译码,选中相应单元,通过控制总线将该存储单元内容送入MDR中
>
> 如果进行写操作,CPU将待写入的数据通过数据总线送入MDR中,MDR通过控制总线将数据送入某个存储单元中

### DRAM的地址复用技术和优化原则
- 由于DRAM的容量较大,地址线数量较多,于是采用 __地址线复用技术__ ,行选通线和列选通线"共用"
- 为了减少刷新开销,根据 __DRAM是按行刷新__ 的原则,应当使列尽量多,__行尽量少__
## 多模块存储器
### 单体多字存储器
- 一个存储器上可以又多个RAM芯片,可以 __一次读出多个存储字__,送入CPU,但是需要连续,否则存取速度提升效果不明显

### 多体并行存储器
- 高位交叉编址
> 高位交叉编制中,高位表示模块号(体号),低位表示模块内地址(体内地址)
![高位交叉编址图](https://img.picui.cn/free/2024/09/19/66eb8b91d2df0.jpg)
- 低位交叉编制
![低位交叉编址示意图](https://img.picui.cn/free/2024/09/19/66eb8e0f27962.jpg)
> 低位交叉编址中,低位代表体号,高位代表块内地址
> 低位交叉编址有2种启动方式:
> - 轮流启动
>   当轮流启动时候,设存取时间位r,存取周期位T,则存储器交叉模块数为 __T/r__ 时正好能进行流水线启动,若模块数小于 __T/r__ 则在重新启动第一个模块时需要等待,若大于 __T/r__ 则会出现空闲时间
![轮流启动示意图](https://img.picui.cn/free/2024/09/19/66eb8e0f3a100.jpg)
> - 同时启动
